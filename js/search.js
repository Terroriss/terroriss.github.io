var lunrIndex,pagesIndex,currentPage=window.location.pathname.split("/")[1];function endsWith(a,b){return-1!==a.indexOf(b,a.length-b.length)}
function initLunr(){endsWith(baseurl,"/")||(baseurl+="/");$.getJSON(baseurl+"index.json").done(function(a){pagesIndex=a;lunrIndex=lunr(function(){this.ref("uri");this.field("title",{boost:15});this.field("tags",{boost:10});this.field("content",{boost:5});this.pipeline.remove(lunr.stemmer);this.searchPipeline.remove(lunr.stemmer);pagesIndex.forEach(function(b){b.uri.split("/")[3]===currentPage&&this.add(b)},this)})}).fail(function(a,b,c){console.error("Error getting Hugo index file:",b+", "+c)})}
function search(a){return lunrIndex.search(a+"^100 "+a+"*^10 *"+a+"^10 "+a+"~2^1").map(function(b){return pagesIndex.filter(function(c){return c.uri===b.ref})[0]})}initLunr();
$(document).ready(function(){new autoComplete({selector:$("#search-by").get(0),source:function(a,b){b(search(a))},renderItem:function(a,b){var c=a.content.match("(?:\\s?(?:[\\w]+)\\s?){0,2}"+b+"(?:\\s?(?:[\\w]+)\\s?){0,2}");a.context=c;c=document.createElement("div");c.className="context";c.innerText=a.context||"";var d=document.createElement("div");d.className="autocomplete-suggestion";d.setAttribute("data-term",b);d.setAttribute("data-title",a.title);d.setAttribute("data-uri",a.uri);d.setAttribute("data-context",
a.context);d.innerText="\u00bb "+a.title;d.appendChild(c);return d.outerHTML},onSelect:function(a,b,c){location.href=c.getAttribute("data-uri")}})});
