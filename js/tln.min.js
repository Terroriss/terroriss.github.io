var TLN={eventList:{},update_line_numbers:function(a,b){a=a.value.split("\n").length-b.children.length;if(0<a){for(var c=document.createDocumentFragment();0<a;){var d=document.createElement("span");d.className="tln-line";c.appendChild(d);a--}b.appendChild(c)}for(;0>a;)b.removeChild(b.lastChild),a++},append_line_numbers:function(a){var b=document.getElementById(a);if(null==b)return console.warn("[tln.js] Couldn't find textarea of id '"+a+"'");if(-1!=b.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+
a+"' is already numbered");b.classList.add("tln-active");b.style={};var c=document.createElement("div");c.className="tln-wrapper";b.parentNode.insertBefore(c,b);TLN.update_line_numbers(b,c);TLN.eventList[a]=[];for(var d=["propertychange","input","keydown","keyup"],f=function(g,k){return function(e){(10!=+g.scrollLeft||37!=e.keyCode&&37!=e.which&&"ArrowLeft"!=e.code&&"ArrowLeft"!=e.key)&&36!=e.keyCode&&36!=e.which&&"Home"!=e.code&&"Home"!=e.key&&13!=e.keyCode&&13!=e.which&&"Enter"!=e.code&&"Enter"!=e.key&&"NumpadEnter"!=e.code||(g.scrollLeft=0);TLN.update_line_numbers(g,k)}}(b,c),h=d.length-1;0<=h;h--)b.addEventListener(d[h],f),TLN.eventList[a].push({evt:d[h],hdlr:f});d=["change","mousewheel","scroll"];c=function(g,k){return function(){k.scrollTop=g.scrollTop}}(b,c);for(f=d.length-1;0<=f;f--)b.addEventListener(d[f],c),TLN.eventList[a].push({evt:d[f],hdlr:c})},remove_line_numbers:function(a){var b=document.getElementById(a);if(null==b)return console.warn("[tln.js] Couldn't find textarea of id '"+
a+"'");if(-1==b.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+a+"' isn't numbered");b.classList.remove("tln-active");var c=b.previousSibling;if("tln-wrapper"==c.className&&c.remove(),TLN.eventList[a]){for(c=TLN.eventList[a].length-1;0<=c;c--){var d=TLN.eventList[a][c];b.removeEventListener(d.evt,d.hdlr)}delete TLN.eventList[a]}}};