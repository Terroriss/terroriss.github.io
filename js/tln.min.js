const TLN={eventList:{},update_line_numbers:function(a,b){a=a.value.split("\n").length-b.children.length;if(0<a){const c=document.createDocumentFragment();for(;0<a;){const d=document.createElement("span");d.className="tln-line";c.appendChild(d);a--}b.appendChild(c)}for(;0>a;)b.removeChild(b.lastChild),a++},append_line_numbers:function(a){const b=document.getElementById(a);if(null==b)return console.warn("[tln.js] Couldn't find textarea of id '"+a+"'");if(-1!=b.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+
a+"' is already numbered");b.classList.add("tln-active");b.style={};var c=document.createElement("div");c.className="tln-wrapper";b.parentNode.insertBefore(c,b);TLN.update_line_numbers(b,c);TLN.eventList[a]=[];var d=["propertychange","input","keydown","keyup"],g=function(f,h){return function(e){(10!=+f.scrollLeft||37!=e.keyCode&&37!=e.which&&"ArrowLeft"!=e.code&&"ArrowLeft"!=e.key)&&36!=e.keyCode&&36!=e.which&&"Home"!=e.code&&"Home"!=e.key&&13!=e.keyCode&&13!=e.which&&"Enter"!=e.code&&"Enter"!=e.key&&
"NumpadEnter"!=e.code||(f.scrollLeft=0);TLN.update_line_numbers(f,h)}}(b,c);for(let f=d.length-1;0<=f;f--)b.addEventListener(d[f],g),TLN.eventList[a].push({evt:d[f],hdlr:g});d=["change","mousewheel","scroll"];c=function(f,h){return function(){h.scrollTop=f.scrollTop}}(b,c);for(g=d.length-1;0<=g;g--)b.addEventListener(d[g],c),TLN.eventList[a].push({evt:d[g],hdlr:c})},remove_line_numbers:function(a){const b=document.getElementById(a);if(null==b)return console.warn("[tln.js] Couldn't find textarea of id '"+
a+"'");if(-1==b.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+a+"' isn't numbered");b.classList.remove("tln-active");var c=b.previousSibling;if("tln-wrapper"==c.className&&c.remove(),TLN.eventList[a]){for(c=TLN.eventList[a].length-1;0<=c;c--){const d=TLN.eventList[a][c];b.removeEventListener(d.evt,d.hdlr)}delete TLN.eventList[a]}}};
