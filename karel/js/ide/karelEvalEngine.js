function KarelEvalEngine(a){var d={},e,b;d.compile=function(c){a.getModel().deepCopy();e=[];b=0;eval(c)};d.executeStep=function(){if(b>=e.length||-1==b)return!0;var c=e[b],f=c.getId();b+=1;switch(f){case 0:a.move();break;case 1:a.turnLeft();break;case 2:a.turnRight();break;case 3:a.putBeeper();break;case 4:a.pickBeeper();break;case 5:a.paintCorner(c.getParam());break;default:alert("invalid action")}return!1};return d};
